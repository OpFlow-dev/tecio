#include "NonSzFEZoneConnectivityWriter.h"
#include "NodeMap.h"
#include "SzlFileLoader.h"
#include "writeValueArray.h"
namespace tecplot { namespace ___3934 { NonSzFEZoneConnectivityWriter::NonSzFEZoneConnectivityWriter( ___4636 zone, ___4636 ___341, ___37& ___36) : ___2678(zone) , m_baseZone(___341) , ___2338(___36) , m_zoneNumberLabel(SZPLT_ZONE_NUM_DESCRIPTION) {} uint64_t NonSzFEZoneConnectivityWriter::nodeMapHeaderSizeInFile(bool ___2001) { if (___2001) return 2 * valueSizeInFile<uint32_t, false>(___2001); else return 0; } ___372 NonSzFEZoneConnectivityWriter::___4530(FileWriterInterface& file) { ___372 ___2038 = ___4227; REQUIRE(file.___2040()); if ( file.___2001() ) { writeValue<uint32_t, false, 0>(file, "nodeMapMarker*", SZPLT_NODE_MAP_MARKER); writeValue<uint32_t, false, 0>(file, m_zoneNumberLabel.c_str(), (___2678 - m_baseZone + 1)); } ENSURE(VALID_BOOLEAN(___2038)); return ___2038; } uint64_t NonSzFEZoneConnectivityWriter::cellConnectivitySizeInFile(bool ___2001) { ___2725 ___2724(&___2338, ___2678 + 1); size_t ___2822 = 0; for (___1170 section = 0; section < ___2724.numSections(); ++section) { ___463 const numCellsInSection = ___2724.___1765(section+1); ___2822 += static_cast<size_t>(numCellsInSection * ___2724.getNumNodesPerCell(section+1)); } return arraySizeInFile<int32_t, false>(___2822, ___2001); } ___372 NonSzFEZoneConnectivityWriter::writeCellConnectivity(FileWriterInterface& fileWriter) { ___2725 ___2724(&___2338, ___2678 + 1); ___372 ___2038 = ___2724.___2066(); ___476(___2724.getOffsetDataType() == OffsetDataType_32Bit); for (___1170 section = 0; ___2038 && section < ___2724.numSections(); ++section) { ___463 const numCellsInSection = ___2724.___1765(section+1); size_t const ___2822 = static_cast<size_t>(numCellsInSection * ___2724.getNumNodesPerCell(section+1)); ___1964 nodeMapArray; ___2038 = ___2038 && nodeMapArray.alloc(___2822); if (___2038) { ___2724.getElemNodes<int32_t>(section+1, 1, numCellsInSection, nodeMapArray.data()); for (___1964::iterator it = nodeMapArray.begin(); it != nodeMapArray.end(___2822); ++it) *it -= 1; ___2038 = ___4563<int32_t, false, 0>(fileWriter, "NodeMap", ___2746, ___2822, nodeMapArray.data()); } } ENSURE(VALID_BOOLEAN(___2038)); return ___2038; } uint64_t NonSzFEZoneConnectivityWriter::sizeInFile(bool ___2001) { return nodeMapHeaderSizeInFile(___2001) + cellConnectivitySizeInFile(___2001); } ___372 NonSzFEZoneConnectivityWriter::write(FileWriterInterface& fileWriter) { ___372 ___2038 = ___4530(fileWriter) && writeCellConnectivity(fileWriter); return ___2038; } }}
