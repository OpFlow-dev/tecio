#include "NonSzZoneWriterAbstract.h"
#include "AltTecUtil.h"
#include "checkPercentDone.h"
#include "FieldData.h"
#include "FileWriterInterface.h"
#include "ItemSetIterator.h"
namespace tecplot { namespace ___3934 { NonSzZoneWriterAbstract::NonSzZoneWriterAbstract( uint32_t                      fileVersion, ItemSetIterator&              varIter, ___4636                   zone, ___4636                   ___341, std::vector<___372> const& ___4564, ___372                     ___4499, ___37&                   ___36) : ___4709(fileVersion, varIter, zone, ___341, ___4564, ___4499, ___36) , m_variableWriter(varIter, zone, ___341, ___36) , m_headerWriter(fileVersion, varIter, zone, ___341, ___36, m_zoneFileLocations) {} NonSzZoneWriterAbstract::~NonSzZoneWriterAbstract() {} uint64_t NonSzZoneWriterAbstract::zoneDataFileSize(bool ___2001) { uint64_t ___3359 = 0; m_varIter.reset(); ___4352 const baseVar = m_varIter.baseItem(); while (m_varIter.hasNext()) { ___4352 const datasetVar = m_varIter.next(); ___4352 const fileVar = datasetVar - baseVar; if (!m_writeVariables[fileVar]) continue; ___3359 += m_variableWriter.varSizeInFile(datasetVar, ___2001); } return ___3359; } uint64_t NonSzZoneWriterAbstract::zoneHeaderFileSize(bool ___2001) { return m_headerWriter.sizeInFile(___2001); } ___372 NonSzZoneWriterAbstract::writeZoneData(FileWriterInterface& szpltFile) { m_varIter.reset(); ___4352 const numVarsToWrite = m_varIter.___2813(); ___372 ___2038 = m_zoneFileLocations.___2674.alloc(numVarsToWrite, ___330); ___4352 const baseVar = m_varIter.baseItem(); while (___2038 && m_varIter.hasNext()) { ___4352 const datasetVar = m_varIter.next(); ___4352 const fileVar = datasetVar - baseVar; if (!m_writeVariables[fileVar]) continue; ___2038 = ___483(SzPltWriteOperation_WriteFieldData, ___2338, datasetVar, ___2678); ___1350 ___1349(&___2338, ___2678 + 1, datasetVar + 1); ___2038 = ___2038 && ___1349.___2066(); ValueLocation_e const ___4326 = ___1349.___1785(); if (___2038) { m_zoneFileLocations.___2674[fileVar] = (uint64_t)szpltFile.fileLoc(); ___2038 = m_variableWriter.writeVarHeader(szpltFile, ___4326, datasetVar); } if (___2038) ___2038 = m_variableWriter.writeVar(szpltFile, ___1349); } ENSURE(VALID_BOOLEAN(___2038)); return ___2038; } ___372 NonSzZoneWriterAbstract::writeZoneHeader(FileWriterInterface& szpltFile) { return m_headerWriter.write(szpltFile); } }}
